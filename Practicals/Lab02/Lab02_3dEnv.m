close all; 
clear all; 
figure;  
xlabel('x'); ylabel('y'); zlabel('z');   
trplot(eye(4),'color','b','frame','0','length',0.4,'thick',2);  
hold on; grid on; axis equal; 
axis([-2 2 0 2 0 3.5]); 
fill3([0 0 -1 -1],[1 2 2 1],[1 1 1 1],'g'); 
fill3([0 0 0 0 0 0 0 0],[1 1.1 1.1 1.9 1.9 2 2 1],[0 0 0.9 0.9 0 0 1 1],'g'); 
fill3([-1 -1 -1 -1 -1 -1 -1 -1],[1 1.1 1.1 1.9 1.9 2 2 1],[0 0 0.9 0.9 0 0 1 1],'g'); 
fill3([0 -0.1 -0.1 -0.9 -0.9 -1 -1 0],[2 2 2 2 2 2 2 2],[0 0 0.9 0.9 0 0 1 1],'g'); 
fill3([0 -0.1 -0.1 -0.9 -0.9 -1 -1 0],[1 1 1 1 1 1 1 1],[0 0 0.9 0.9 0 0 1 1],'g'); 
fill3([-0.4 -0.4 -0.6 -0.6],[1.4 1.6 1.6 1.4],[1 1 1 1],'r'); 
fill3([-0.4 -0.4 -0.6 -0.6],[1.4 1.6 1.6 1.4],[1.2 1.2 1.2 1.2],'r'); 
fill3([-0.4 -0.6 -0.6 -0.4],[1.6 1.6 1.6 1.6],[1 1 1.2 1.2],'r'); 
fill3([-0.4 -0.6 -0.6 -0.4],[1.4 1.4 1.4 1.4],[1 1 1.2 1.2],'r'); 
fill3([-0.4 -0.4 -0.4 -0.4],[1.4 1.6 1.6 1.4],[1 1 1.2 1.2],'r'); 
fill3([-0.6 -0.6 -0.6 -0.6],[1.4 1.6 1.6 1.4],[1 1 1.2 1.2],'r'); 
fill3([-0.4 -0.4 -0.6 -0.6],[1.4 1.6 1.6 1.4],[3 3 3 3],'b'); 
fill3([-0.4 -0.4 -0.6 -0.6],[1.4 1.6 1.6 1.4],[3.2 3.2 3.2 3.2],'b'); 
fill3([-0.4 -0.6 -0.6 -0.4],[1.6 1.6 1.6 1.6],[3 3 3.2 3.2],'b'); 
fill3([-0.4 -0.6 -0.6 -0.4],[1.4 1.4 1.4 1.4],[3 3 3.2 3.2],'b'); 
fill3([-0.4 -0.4 -0.4 -0.4],[1.4 1.6 1.6 1.4],[3 3 3.2 3.2],'b'); 
fill3([-0.6 -0.6 -0.6 -0.6],[1.4 1.6 1.6 1.4],[3 3 3.2 3.2],'b');


R_10 = eye(3);  
t_10 = [0; 1; 1];         
H_10 = rt2tr(R_10, t_10); 
disp("H_10");
disp(H_10);
trplot(H_10, 'color', 'b', 'frame', '1', 'length', 0.4, 'thick', 2);

R_21 = eye(3);  
t_21 = [-0.5; 0.5; 0];         
H_21 = rt2tr(R_21, t_21);
H_20 = H_10 * H_21;
disp("H_20");
disp(H_20);
trplot(H_20, 'color', 'b', 'frame', '2', 'length', 0.4, 'thick', 2);

R_32 =  [
    0 1 0;
    1 0 0;
    0 0 -1
];
t_32 = [0; 0; 2];         
H_32 = rt2tr(R_32, t_32);
H_30 = H_20 * H_32;
disp("H_30");
disp(H_30);
trplot(H_30, 'color', 'b', 'frame', '3', 'length', 0.4, 'thick', 2);